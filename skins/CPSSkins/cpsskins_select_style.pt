<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:define="tmtool here/portal_themes; 
                  base_url python: request.get('cpsskins_base_url', '');
                  current_theme python: tmtool.getRequestedThemeName(); 
                  theme_container python: tmtool.getEffectiveThemeContainer(theme=current_theme)">
  <head>
    <link rel="Stylesheet" type="text/css"
    tal:attributes="href string:${base_url}cpsskins_theme_edit.css" />
    <link rel="Stylesheet" type="text/css"
    tal:attributes="href string:${base_url}cpsskins_common-css2.css" />
    <link rel="Stylesheet" type="text/css"
    tal:attributes="href string:${theme_container/absolute_url}/renderCSS" />
    <script type="text/javascript" 
    tal:attributes="src string:${base_url}cpsskins_theme_edit.js" />
  </head>
  <body tal:define="prop request/form/prop|nothing; 
                    style_cat request/form/style|nothing; 
                    styles python: tmtool.findStylesFor(style_cat, here)['object']">
    <div class="panel" tal:repeat="style styles">
      <div onMouseover="this.style.backgroundColor='#fff'"
           onMouseout="this.style.background='#eee'">
        <h1 tal:content="style/title|nothing" />
        <a tal:define="number repeat/style/number"
         tal:attributes="onClick string:javascript:selectStyle('$number', '$prop')"
         tal:content="structure python: style.preview()" />
      </div>
    </div>
  </body>
</html>
