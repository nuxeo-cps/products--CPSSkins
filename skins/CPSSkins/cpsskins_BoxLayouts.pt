<!-- default box -->
<metal:block define-macro="standard">
  <div class="title">
    <metal:block define-slot="box_title">Box Title</metal:block>
  </div>
  <div class="body">
    <metal:block define-slot="box_body">Box Body</metal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- a framed box -->
<metal:block define-macro="one_frame">
  <div class="body">
      <h4><metal:block define-slot="box_title">Box Title</metal:block></h4>
      <br/>
      <metal:block define-slot="box_body">Box Body</metal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- a framed box without title  -->
<metal:block define-macro="notitle">
  <div class="body">
      <metal:block define-slot="box_body">Box Body</metal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- A frameless box -->
<metal:block define-macro="no_frames">
  <div class="title" style="border: none">
     <metal:block define-slot="box_title">Box Title</metal:block>
  </div>
  <div class="body" style="border: none">
     <metal:block define-slot="box_body">Box Body</metal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- A box with a frameless body and no title-->
<metal:block define-macro="notitle_noframe">
  <div class="body" style="border: none">
     <metal:block define-slot="box_body">Box Body</metal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- drawer box -->
<metal:block define-macro="drawer" 
  tal:define="portal_url here/portal_url;
              orientation orientation|string:vertical;
              box_state python: here.getBoxState(REQUEST=request);
              boxid here/id">
  <div class="title">
    <metal:block define-slot="box_title">Box Title</metal:block>
  </div>
  <div class="body">
    <tal:block condition="python: box_state != 'minimized'">
      <metal:block define-slot="box_body">Box Body</metal:block>
    </tal:block>
    <div style="text-align: right">
      <a tal:condition="python: box_state == 'minimized'"
         tal:attributes="href string:$portal_url/cpsskins_setBoxState?boxid=$boxid&state=maximized">
        <img src="" width="12" height="12" border="0"
         tal:attributes="src string:$portal_url/cpsskins_images/drawer_open_$orientation.gif" /></a>
      <a tal:condition="python: box_state != 'minimized'"
         tal:attributes="href string:$portal_url/cpsskins_setBoxState?boxid=$boxid&state=minimized">
        <img src="" width="12" height="12" border="0"
         tal:attributes="src string:$portal_url/cpsskins_images/drawer_close_$orientation.gif" /></a>
    </div>
  </div>
</metal:block>

<!-- ============================================================ -->
<!-- drawer box without title -->
<metal:block define-macro="drawer_notitle" 
  tal:define="portal_url here/portal_url;
              orientation orientation|string:vertical;
              box_state python: here.getBoxState(REQUEST=request);
              boxid here/id">
  <div class="body">
    <tal:block condition="python: box_state != 'minimized'">
      <metal:block define-slot="box_body">Box Body</metal:block>
    </tal:block>
    <div style="text-align: right">
      <a tal:condition="python: box_state == 'minimized'"
         tal:attributes="href string:$portal_url/cpsskins_setBoxState?boxid=$boxid&state=maximized">
        <img src="" width="12" height="12" border="0" 
         tal:attributes="src string:$portal_url/cpsskins_images/drawer_open_$orientation.gif" /></a>
      <a tal:condition="python: box_state != 'minimized'"
         tal:attributes="href string:$portal_url/cpsskins_setBoxState?boxid=$boxid&state=minimized">
        <img src="" width="12" height="12" border="0"
         tal:attributes="src string:$portal_url/cpsskins_images/drawer_close_$orientation.gif" /></a>
    </div>
  </div>
</metal:block>

<!-- ============================================================ -->
<metal:block define-macro="min_max"
  tal:define="maximized python: state == 'maximized';
              portal_url here/portal_url">
  <div class="title buttons">
    <a tal:condition="not:maximized"
     tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=maximized">
     <img src="" width="16" height="16" border="0" alt=""
     tal:attributes="src string:$portal_url/cpsskins_images/button_maximized.gif" /></a>
    <a tal:condition="python: state != 'minimized'"
     tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=minimized">
     <img src="" width="16" height="16" border="0" alt=""
      tal:attributes="src string:$portal_url/cpsskins_images/button_minimized.gif" /></a>
    <metal:block define-slot="box_title">Box Title</metal:block>
    <br style="clear:right"/>
  </div>
  <div class="body" tal:attributes="style python:test(maximized, '', 'padding:0')"> 
    <tal:block tal:condition="maximized">
      <metal:block define-slot="box_body">Box Body</metal:block>
    </tal:block>
  </div>
</metal:block>

<!-- ============================================================ -->
<metal:block define-macro="min_max_close"
  tal:define="maximized python: state == 'maximized';
              portal_url here/portal_url">
  <tal:block tal:condition="python: state != 'closed'">
    <div class="title buttons">
      <a tal:condition="python: state != 'closed'"
      tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=closed">
       <img src="" width="16" height="16" border="0" alt="" 
       tal:attributes="src string:$portal_url/cpsskins_images/button_close.gif" /></a>
      <a tal:condition="not:maximized"
       tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=maximized">
       <img src="" width="16" height="16" border="0" alt="" 
       tal:attributes="src string:$portal_url/cpsskins_images/button_maximized.gif" /></a>
      <a tal:condition="python: state != 'minimized'"
       tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=minimized">
       <img src="" width="16" height="16" border="0" alt=""
       tal:attributes="src string:$portal_url/cpsskins_images/button_minimized.gif" /></a>
      <metal:block define-slot="box_title">Box Title</metal:block>
      <br style="clear:right"/>
    </div>
    <div class="body" tal:attributes="style python:test(maximized, '', 'padding:0')"> 
      <tal:block tal:condition="maximized">
        <metal:block define-slot="box_body">Box Body</metal:block>
      </tal:block>
    </div>
  </tal:block>
  <a tal:condition="python: state == 'closed'"
     tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=maximized">
     <img src="" width="16" height="16" border="0" 
     tal:attributes="src string:$portal_url/cpsskins_images/button_maximized.gif" />
    <metal:block define-slot="box_title">Box Title</metal:block>
  </a>
</metal:block>

<!-- ============================================================ -->
<metal:block define-macro="min_max_edit_close"
  tal:define="maximized python: state == 'maximized';
              portal_url here/portal_url">
  <tal:block tal:condition="python: state != 'closed'">
    <div class="title buttons">
      <a tal:condition="python: state != 'closed'"
      tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=closed">
       <img src="" width="16" height="16" border="0" alt="" 
       tal:attributes="src string:$portal_url/cpsskins_images/button_close.gif" /></a>
      <a
       tal:attributes="href string:${portlet_url}/edit_form">
       <img src="" width="16" height="16" border="0" alt=""
       tal:attributes="src string:$portal_url/cpsskins_images/button_edit.gif" /></a>
      <a tal:condition="not:maximized"
       tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=maximized">
       <img src="" width="16" height="16" border="0" alt="" 
       tal:attributes="src string:$portal_url/cpsskins_images/button_maximized.gif" /></a>
      <a tal:condition="python: state != 'minimized'"
       tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=minimized">
       <img src="" width="16" height="16" border="0" alt=""
       tal:attributes="src string:$portal_url/cpsskins_images/button_minimized.gif" /></a>
      <metal:block define-slot="box_title">Box Title</metal:block>
      <br style="clear:right"/>
    </div>
    <div class="body" tal:attributes="style python:test(maximized, '', 'padding:0')"> 
      <tal:block tal:condition="maximized">
        <metal:block define-slot="box_body">Box Body</metal:block>
      </tal:block>
    </div>
  </tal:block>
  <a tal:condition="python: state == 'closed'"
     tal:attributes="href string:${portlet_url}/cpsskins_setPortletState?state=maximized">
     <img src="" width="16" height="16" border="0" 
     tal:attributes="src string:$portal_url/cpsskins_images/button_maximized.gif" />
    <metal:block define-slot="box_title">Box Title</metal:block>
  </a>
</metal:block>
