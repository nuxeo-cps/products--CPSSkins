<metal:block define-macro="portalboxgroup">
  <tal:block condition="render_box"
  define="padding templet/padding|string:0">
  
    <!-- Portlets -->
    <div tal:attributes="class python: 'BoxColor%s BoxShape%s' % (templet.boxcolor, templet.boxshape);
                         style string:text-align:${templet/align};; padding:$padding"
    tal:content="structure python: templet.render_cache(shield=1, context_obj=here)" />

  </tal:block>

  <div class="BoxGroupBoundingBox" tal:condition="not:render_box">
    <div class="BoxGroupBoxSlotTitle">
      <tal:block define="title string:_Slot name_" i18n:translate=""
       content="python: mcat and mcat(title) or title" />:
      <tal:block content="templet/box_group" />
    </div>
    <div tal:attributes="style string: padding:${templet/padding}">
      <img tal:attributes="src string:${templet/getIcon}"
       width="16" height="16" />
      <tal:block content="templet/title" />
    </div>
  </div>

</metal:block>
